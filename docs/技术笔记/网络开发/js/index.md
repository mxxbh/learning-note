# JavaScript

## çŸ¥è¯†ç‚¹

- æ•°å€¼æ˜¯ç”¨ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºçš„ï¼Œæ•´æ•° (ä¸ä½¿ç”¨å°æ•°ç‚¹æˆ–æŒ‡æ•°è®¡æ•°æ³•) æœ€å¤šä¸º 15 ä½ã€‚å°æ•°çš„æœ€å¤§ä½æ•°æ˜¯ 17ã€‚
- éä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œundefined å¯ä½œä¸ºæ ‡è¯†ç¬¦ï¼ˆèƒ½è¢«å½“ä½œå˜é‡åæ¥ä½¿ç”¨å’Œèµ‹å€¼ï¼‰ã€‚
- æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ>ã€>=ã€<ã€<=ï¼‰åšåˆ¤æ–­æ—¶ï¼Œæœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸º NaNï¼Œåˆ™ç»“æœè¿”å› falseã€‚
- ä½è¿ç®—ç¬¦ä¼šè‡ªåŠ¨å°†æ•°å€¼ç±»å‹çš„æ“ä½œæ•°è½¬æ¢æˆæ•´æ•°ã€‚
- å¯ä»¥ç”¨å–åè¿ç®—ç¬¦ï¼ˆ~ï¼‰åˆ¤æ–­å˜é‡å€¼æ˜¯å¦ç­‰äº -1ï¼Œä¾‹å¦‚ ~x === -(x + 1)ã€~-1 === 0ã€‚
- å¯¹äº nullã€undefinedã€å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰æ“ä½œæ•°è¿›è¡Œå–åæ—¶ï¼Œè¿”å›ç»“æœéƒ½æ˜¯ -1ã€‚
- for/in è¯­å¥å¯ä»¥éå†å‡ºå¯¹è±¡åŠå…¶åŸå‹ä¸Šå¯æšä¸¾çš„æ–¹æ³•åŠå±æ€§ã€‚
- ä½¿ç”¨ Array.protoType.fill() æ–¹æ³•å¡«å……å¤æ‚ç±»å‹å˜é‡æ—¶ï¼Œæ•°ç»„æ¯ä¸€é¡¹ä¼šæŒ‡å‘åŒä¸€ä¸ªå˜é‡ã€‚
- ä½¿ç”¨ Number() æ–¹æ³•è½¬æ¢æ•°å€¼æ—¶ï¼Œundefined è½¬æˆ NaNï¼Œnull è½¬æˆ 0ã€‚
- Object.is() æ–¹æ³•åˆ¤æ–­ä¸¤å˜é‡ç›¸ç­‰ï¼Œä¸ä¼šå¼ºåˆ¶è½¬æ¢ä¸¤è¾¹çš„å€¼ï¼Œ+0 ä¸ -0 åˆ¤ä¸ºä¸ç­‰ï¼ŒNaN ä¸ NaN åˆ¤ä¸ºç›¸ç­‰ã€‚
- Set å¯¹è±¡å…è®¸å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œåˆ¤æ–­ç±»ä¼¼äºæ’ç­‰ ===ï¼Œä½† NaN åªèƒ½å­˜ä¸€ä¸ªã€‚
- ä¸è¦åœ¨ script æ ‡ç­¾å†…ç›´æ¥ä½¿ç”¨ awaitï¼Œæœ‰äº›ç¯å¢ƒæ”¯æŒï¼Œæœ‰äº›ç¯å¢ƒä¸æ”¯æŒã€‚

## å‚è€ƒ

- [JS æ•°æ®ç±»å‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures)
- [å‡å€¼](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy)
- [ç®—ç¬¦ä¼˜å…ˆçº§åˆ—è¡¨](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#%E6%B1%87%E6%80%BB%E8%A1%A8) ğŸ‘
- [æ­£åˆ™è¡¨è¾¾å¼è½¬ä¹‰å­—ç¬¦](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Character_Classes)
- [æ­£åˆ™è¡¨è¾¾å¼æ–­è¨€](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions/Assertions) ğŸ‘
- [new è¿ç®—ç¬¦åˆ›å»ºå¯¹è±¡è¿‡ç¨‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new#%E6%8F%8F%E8%BF%B0) ğŸ‘
- [è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Iterators_and_generators#iterables)
- [å¯¹æ¯” CJS/AMD/UMD/ESM æ¨¡å—](https://irian.to/blogs/what-are-cjs-amd-umd-and-esm-in-javascript/)
- [æŒ‡å®š console å†…å®¹æ–‡å­—é¢œè‰²](https://github.com/isLishude/blog/issues/179)

## å½’çº³

åˆ¤æ–­å±æ€§å­˜åœ¨çš„æ–¹å¼ï¼š

| åˆ¤æ–­æ–¹å¼                    | æè¿°                                                       |
| --------------------------- | ---------------------------------------------------------- |
| in                          | åˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨æŒ‡å®šå¯¹è±¡ä¸­ï¼Œä¸åŒºåˆ†æ˜¯å¦æ¥è‡ªç»§æ‰¿ï¼Œæ˜¯å¦å¯æšä¸¾ |
| Object.hasOwnProperty       | åˆ¤æ–­å±æ€§æ˜¯è‡ªèº«çš„ï¼Œè€Œä¸æ˜¯ä»åŸå‹é“¾ç»§æ‰¿çš„                     |
| Object.propertyIsEnumerable | åˆ¤æ–­å±æ€§æ˜¯è‡ªæœ‰çš„ï¼Œä¸”æ˜¯å¯æšä¸¾çš„                             |

è·å–å±æ€§çš„æ–¹å¼ï¼š

| è·å–æ–¹å¼                     | å¯æšä¸¾å±æ€§ | ä¸å¯æšä¸¾å±æ€§ | symbol å±æ€§ | ç»§æ‰¿å±æ€§ |
| ---------------------------- | :--------: | :----------: | :---------: | :------: |
| Object.keys                  |     âˆš      |      Ã—       |      Ã—      |    Ã—     |
| Object.getOwnPropertyNames   |     âˆš      |      âˆš       |      Ã—      |    Ã—     |
| Object.getOwnPropertySymbols |     Ã—      |      Ã—       |      âˆš      |    Ã—     |
| Reflect.ownKeys              |     âˆš      |      âˆš       |      âˆš      |    Ã—     |

å˜é‡å£°æ˜æ–¹å¼å¯¹æ¯”ï¼š

| å£°æ˜æ–¹å¼ | æå‡åˆ›å»ºã€åˆå§‹åŒ–ã€èµ‹å€¼è¿‡ç¨‹ |    å¯åœ¨å£°æ˜å‰ä½¿ç”¨    |
| -------- | :------------------------: | :------------------: |
| var      |           âˆš âˆš Ã—            | å¯ä»¥ï¼Œä½†ä¸º undefined |
| let      |           âˆš Ã— Ã—            |        ä¸å¯ä»¥        |
| const    |           âˆš Ã— Ã—            |        ä¸å¯ä»¥        |
| function |           âˆš âˆš âˆš            |         å¯ä»¥         |
| class    |           âˆš Ã— Ã—            |        ä¸å¯ä»¥        |

## ç¤ºä¾‹

éšå¼è½¬æ¢ï¼š

::: code-group

```js [åˆ¤æ–­ç›¸ç­‰]
[] == ![]; // è¾“å‡º true

// è½¬æ¢è¿‡ç¨‹ï¼š
// 1. é¦–å…ˆæ‰§è¡Œå–éè¿ç®—ï¼ˆç®—ç¬¦ä¼˜å…ˆçº§ '!' > '=='ï¼‰ï¼Œå¾—åˆ° [] == false
// 2. é‡åˆ°å¸ƒå°”å€¼å…ˆè½¬æ¢æˆæ•°å­—ï¼ˆåŒç­‰å·è¿ç®—è§„åˆ™ï¼‰ï¼Œå¾—åˆ° [] == 0
// 3. å¤æ‚ç±»å‹éœ€è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼ˆè°ƒç”¨ toString() æ–¹æ³•ï¼‰ï¼Œå¾—åˆ° '' == 0
// 4. å†å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œå¾—åˆ° 0 == 0

'0' == false; // è¾“å‡º true

// ä¹Ÿæ˜¯å·¦å³è½¬æ¢æˆæ•°å­—ï¼Œå¾—åˆ° 0 == 0
```

```js [ä½œåŠ æ³•]
`[] + {}`; // ç»“æœä¸º "[object Object]"
// [] è½¬æ¢ä¸º ""ï¼Œ{} è½¬æ¢ä¸º "[object Object]"ï¼Œç›¸åŠ ä¸º "[object Object]"

`{} + []`; // ç»“æœä¸º 0
// {} è¢«è§£æä¸ºä»£ç å—ï¼Œè¯­å¥ç­‰ä»·äº +[]ï¼Œç»“æœè½¬æ¢ä¸º 0
```

:::

ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ç»™å¯¹è±¡æä¾› for/of éå†æ–¹å¼ï¼š

```javascript
function* objectEntries(obj) {
  const propKeys = Reflect.ownKeys(obj); // è¿”å›å¯¹è±¡æ‰€æœ‰çš„å±æ€§ï¼Œä¸ç®¡å±æ€§æ˜¯å¦å¯æšä¸¾ï¼ŒåŒ…æ‹¬ Symbol
  for (const propKey of propKeys) {
    yield [propKey, obj[propKey]];
  }
}
const jane = { first: 'Jane', last: 'Doe' };
for (const [key, value] of objectEntries(jane)) {
  console.log(`${key}: ${value}`);
}
// è¾“å‡º "first: Jane"ï¼Œ"last: Doe"
```

ä½¿ç”¨ Set å¯¹è±¡å®ç°é›†åˆè¿ç®—:

```javascript
let a1 = [1, 2, 3, 3];
let a2 = [2, 3, 4];

// æ•°ç»„å»é‡
let a3 = [...new Set(a1)];

// æ±‚å¹¶é›†
let union = new Set([...a1, ...a2]); // Set {1, 2, 3, 4}
// æ±‚äº¤é›†
let intersect = new Set(a1.filter((x) => a2.has(x))); // set {2, 3}
// æ±‚å·®é›†
let difference = new Set(a1.filter((x) => !a2.has(x))); // Set {1}
```

ä¸ä½¿ç”¨é¢å¤–å˜é‡äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š

```js
// åŠ å‡æ³•
a = a + b;
b = a - b;
a = a - b;

// æŒ‰ä½å¼‚æˆ–æ³•ï¼Œå‡è®¾ a = 10010011, b = 01010110
a ^= b; // a = 11000101
b ^= a; // b = 10010011
a ^= b; // a = 01010110

// ä½¿ç”¨é€—å·è¿ç®—ç¬¦
a = [b, (b = a)][0];
```
