# 视频遮挡其他元素

视频播放前，可以将绝对定位元素显示在视频元素上层，但开始播放后，视频会反过来遮挡绝对定位元素。
另外，对视频元素或其父元素设置 `overflow`、`clip-path` 均无效，视频画面不会被裁剪。

> [!NOTE] 发生环境
> vivo 默认浏览器、QQ 浏览器、夸克浏览器

## 方式一

调整设计，让其他元素避开视频区域。

## 方式二

将视频连接转成 `blob` 数据格式，这样可绕过浏览器对视频资源的 '嗅探' 行为。

```html
<video></video>
<script>
  const video = document.querySelector('video');
  const videoUrl = 'http://xxx.mp4';

  // 利用 XMLHttpRequest 实现
  // const xhr = new XMLHttpRequest();
  // xhr.open('GET', videoUrl, true);
  // xhr.responseType = 'blob';
  // xhr.onload = () => {
  //   const blob = xhr.response;
  //   video.src = URL.createObjectURL(blob);
  //   video.play();
  // };
  // xhr.send();

  // 利用 fetch 实现
  fetch(videoUrl)
    .then((request) => request.blob())
    .then((blob) => {
      video.src = blob;
      video.play();
    });
</script>
```

> [!WARNING]
> 这种方式会导致需要缓存全部视频内容后才能开始播放
