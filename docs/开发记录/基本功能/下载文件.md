# 下载文件

触发自动保存数据文件

## 方式一

使用 js 触发下载。

```js
// 使用 Blob 对象保存待下载内容
const content = JSON.stringify({ data: 'xxx' }, null, 2);
const blob = new Blob([content], { type: 'application/json' });

// 创建 a 标签，并触发下载
var eleLink = document.createElement('a');
eleLink.download = 'data.json';
eleLink.style.display = 'none';
eleLink.href = URL.createObjectURL(blob);
document.body.appendChild(eleLink);
eleLink.click();
document.body.removeChild(eleLink);
```

注意：

- 在部分移动端默认浏览器上，保存图片时，会被错误地识别成 txt 文件，若使用 [方式二](#方式二) 则不会出现该问题

## 方式二

使用 [download](https://github.com/rndme/download) 库。

```
npm install downloadjs
npm install -D @types/downloadjs
```

```js
import download from 'downloadjs';

download('xxx', 'xxx.jpeg', 'image/jpeg');
```
